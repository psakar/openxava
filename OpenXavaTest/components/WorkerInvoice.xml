<?xml version="1.0" encoding="ISO-8859-1"?>

<!DOCTYPE component SYSTEM "dtds/component.dtd">

<component name="WorkInvoice">

	<entity>
		<property name="id" type="in" key="true"/>
		<property name="description" type="String" 
			size="40" required="true"/>		
		<property name="hours" type="int"/>
		<reference model="Worker"/>
		<property name="tripCost" type="BigDecimal"/>
		<property name="discount" type="BigDecimal"/>
		<property name="vatPercentage" type="int" size="2">
			<default-value-calculator class="org.openxava.calculators.IntegerCalculator">
				<set property="value" value="16"/>
			</default-value-calculator>
		</property>
		<property name="total" type="BigDecimal">
			<calculation>((hours * worker.hourPrice) + tripCost - discount) * (1 + vatPercentage / 100)</calculation>
		</property>
	</entity>
	
</component>

